ktor {
  deployment {
    port = 8080
  }

  application {
    module = [project.kloud.ApplicationKtTest.main]
  }

  security {
    google {
      oauth2 {
        id = ${GOOGLE_CLIENT_ID}
        secret = ${GOOGLE_CLIENT_SECRET}
        issuer = "https://localhost:8000"
        paths {
          authorize = "/o/oauth2/auth"
          accessToken = "/o/oauth2/token"
        }
        scopes = ["https://localhost:8000/auth/userinfo.profile"]
      }
      apis {
        userInfo {
          host = "accounts.google.com"
          path = "/oauth2/v2/userinfo"
        }
      }
    }
  }
}